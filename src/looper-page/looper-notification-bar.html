<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<dom-module id="looper-notification-bar" fit>
  <template>
    <style is="custom-style" include="iron-flex iron-flex-alignment app-grid-style"></style>
    <style include="shared-styles">
     :host {
      display: block;
    }

    app-toolbar {
      height: 36px;
      color: black;
    }

    .inner {
      width: 100%;
      color: rgba(255, 255, 255, .78);
      font-size: 16px;
      text-align: center;
      font-weight: 400;
    }

    app-toolbar.notice {
      background-color: rgba(0, 0, 0, .78);
    }

    app-toolbar.warning {
      background-color: var(--paper-amber-500);
    }

    app-toolbar.error {
      background-color: var(--paper-red-500);
    }

    iron-icon {
      padding-right: 16px;
    }
    </style>
    <iron-ajax auto url="https://raw.githubusercontent.com/Loopring/mock-relay-data/master/notification.json" handle-as="json" last-response="{{notification}}" debounce-duration="300"></iron-ajax>
    <app-toolbar class$="[[notification.category]]">
      <div class="inner horizontal end center-justified flex layout">
        <iron-icon icon="social:notifications-none"></iron-icon>
        <div>[[notification.message]]</div>
      </div>
    </app-toolbar>
  </template>
  <script>
  class LooperNotificationBar extends Polymer.Element {
    static get is() { return 'looper-notification-bar'; }

    static get properties() {
      return {
        notification: Object
      };
    }

    // Display a notificaiton with a timer.
    display(e) {
      console.log("get notificaiton: ");
      console.log(e);
    }
  }

  window.customElements.define(LooperNotificationBar.is, LooperNotificationBar);
  </script>
</dom-module>