<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="shared-styles.html">

<dom-module id="page-fill">
  <template>
    <style include="shared-styles">
      :host {
        display: block;
      }
      .container {
        @apply(--layout-horizontal);
        @apply(--layout-start-justified);
        text-align: left;
        font-size: 14px;
        color: rgba(0, 0, 0, 0.78);
        height: 100%;
        line-height: 32px;
      }
      .container .left {
        width: 48%;
        #border-top:     1px  solid #bcbcbc;
        border-bottom:  1px  solid #bcbcbc;
        @apply(--layout-horizontal);
        @apply(--layout-start-justified);
      }
      .container .middle {
        width: 4%;
      }
      .container .right {
        width: 48%;
        #border-top:      1px solid #bcbcbc;
        border-bottom:  1px solid #bcbcbc;
        @apply(--layout-horizontal);
        @apply(--layout-start-justified);
      }
      .key {
        width: 20%;
        padding-left: 10px;
      }
      .value {
        width: 80%;
        padding-left: 10px;
      }
      .hash {
        width: 400px;
        display: inline-block;
        vertical-align: bottom;
        text-overflow: ellipsis;
        overflow: hidden;
      }
      a:link {
        text-decoration: none;
      }
    </style>
    <looper-page>
      <simple-toolbar slot="secondary-toolbar" title="Fill" id="[[id]]" back-link="#/fills"></simple-toolbar>
      <div class="sections">
        <div style="padding-top: 10px; padding-top: 10px;">Fill</div>
        <paper-card>
          <recent-fills filter-mine name="myfills"></recent-fills>
        </paper-card>
        <iron-ajax
                auto
                url="https://raw.githubusercontent.com/Loopring/mock-relay-data/master/fill.json"
                handle-as="json"
                last-response="{{order}}"
                debounce-duration="300">
        </iron-ajax>

        <div style="padding-top: 10px; padding-top: 10px;">Orders</div>
        <paper-card>
          <div class="container">
            <div class="left">
              <div class="key">Tx Hash:</div>
              <div class="value"><a href="#" class="hash">[[order.result.txHash]]</a></div>
            </div>
            <div class="middle"></div>
            <div class="right">
              <div class="key">Ring Hash:</div>
              <div class="value"><a href="#/ring/[[order.result.ringHash]]" class="hash">[[order.result.ringHash]]</a></div>
            </div>
          </div>
          <div class="container">
            <div class="left">
              <div class="key">Orders:</div>
              <div class="value">
                <template is="dom-repeat" items="[[order.result.orders]]" as="order">
                  <div><a href="#/order/[[order]]" class="hash">[[order]]</a></div>
                </template>
              </div>
            </div>
            <div class="middle"></div>
            <div class="right"></div>
          </div>
        </paper-card>
        <div class="footer-spacer"></div>
        <looper-footer></looper-footer>
      </div>
    </looper-page>
  </template>
  <script>
  class PageFill extends Polymer.Element {
    static get is() {
      return 'page-fill';
    }
    static get properties() {
      return {
        id: String,
        keyValueArray: Array
      };
    }
  }

  window.customElements.define(PageFill.is, PageFill);
  </script>
</dom-module>